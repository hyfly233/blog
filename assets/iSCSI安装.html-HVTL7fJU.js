import{_ as n,c as a,f as l,o as e}from"./app-chPKMbRn.js";const p={};function i(o,s){return e(),a("div",null,s[0]||(s[0]=[l(`<h1 id="iscsi安装" tabindex="-1"><a class="header-anchor" href="#iscsi安装"><span>iSCSI安装</span></a></h1><p>服务器手动和 tgtd 工具安装不能同时进行，可能导致手动安装生成 portals 时出现端口冲突</p><h2 id="服务器手动安装" tabindex="-1"><a class="header-anchor" href="#服务器手动安装"><span>服务器手动安装</span></a></h2><h3 id="安装-target" tabindex="-1"><a class="header-anchor" href="#安装-target"><span>安装 target</span></a></h3><div class="language-bash line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-bash;"><code><span class="line"><span class="line"><span style="color:#88C0D0;">yum</span><span style="color:#A3BE8C;"> -y</span><span style="color:#A3BE8C;"> install</span><span style="color:#A3BE8C;"> targetd</span><span style="color:#A3BE8C;"> targetcli</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">systemctl</span><span style="color:#A3BE8C;"> restart</span><span style="color:#A3BE8C;"> targetd</span><span style="color:#ECEFF4;"> &amp;&amp;</span><span style="color:#88C0D0;"> systemctl</span><span style="color:#A3BE8C;"> enable</span><span style="color:#A3BE8C;"> targetd</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="手动分盘" tabindex="-1"><a class="header-anchor" href="#手动分盘"><span>手动分盘</span></a></h3><div class="language-bash line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-bash;"><code><span class="line"><span class="line"><span style="color:#616E88;"># step.1 对磁盘进行分区：n 进行分盘、w 保存退出</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">fdisk</span><span style="color:#A3BE8C;"> /dev/sdd</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.2</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">partprobe</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建-block" tabindex="-1"><a class="header-anchor" href="#创建-block"><span>创建 block</span></a></h3><div class="language-bash line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-bash;"><code><span class="line"><span class="line"><span style="color:#616E88;"># step.1 进入 target 交互页面</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">targetcli</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;">################### target 交互页面 #######################</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.2</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">ls</span><span style="color:#A3BE8C;"> /</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">o-</span><span style="color:#A3BE8C;"> /</span><span style="color:#A3BE8C;"> ..............................................................................</span><span style="color:#D8DEE9FF;"> [...]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> backstores</span><span style="color:#A3BE8C;"> ...................................................................</span><span style="color:#D8DEE9FF;"> [...]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block</span><span style="color:#A3BE8C;"> .......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> fileio</span><span style="color:#A3BE8C;"> ......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> pscsi</span><span style="color:#A3BE8C;"> .......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> ramdisk</span><span style="color:#A3BE8C;"> .....................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> iscsi</span><span style="color:#A3BE8C;"> .................................................................</span><span style="color:#D8DEE9FF;"> [Targets: </span><span style="color:#A3BE8C;">0]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> loopback</span><span style="color:#A3BE8C;"> ..............................................................</span><span style="color:#D8DEE9FF;"> [Targets: </span><span style="color:#A3BE8C;">0]</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.3</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">cd</span><span style="color:#A3BE8C;"> backstores/block</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.4 创建块</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">create</span><span style="color:#A3BE8C;"> name=block1</span><span style="color:#A3BE8C;">  dev=/dev/sdd1</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">create</span><span style="color:#A3BE8C;"> name=block2</span><span style="color:#A3BE8C;">  dev=/dev/sde1</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.5</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">ls</span><span style="color:#A3BE8C;"> /</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">o-</span><span style="color:#A3BE8C;"> /</span><span style="color:#A3BE8C;"> ..............................................................................</span><span style="color:#D8DEE9FF;"> [...]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> backstores</span><span style="color:#A3BE8C;"> ...................................................................</span><span style="color:#D8DEE9FF;"> [...]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block</span><span style="color:#A3BE8C;"> .......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 2]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block1</span><span style="color:#A3BE8C;"> ...........................</span><span style="color:#D8DEE9FF;"> [/dev/sdd1 (447.1GiB) write-thru deactivated]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> alua</span><span style="color:#A3BE8C;"> ........................................................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">Groups:</span><span style="color:#A3BE8C;"> 1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> default_tg_pt_gp</span><span style="color:#A3BE8C;"> ............................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">state:</span><span style="color:#A3BE8C;"> Active/optimized]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block2</span><span style="color:#A3BE8C;"> ...........................</span><span style="color:#D8DEE9FF;"> [/dev/sde1 (447.1GiB) write-thru deactivated]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> alua</span><span style="color:#A3BE8C;"> ........................................................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">Groups:</span><span style="color:#A3BE8C;"> 1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> default_tg_pt_gp</span><span style="color:#A3BE8C;"> ............................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">state:</span><span style="color:#A3BE8C;"> Active/optimized]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> fileio</span><span style="color:#A3BE8C;"> ......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> pscsi</span><span style="color:#A3BE8C;"> .......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> ramdisk</span><span style="color:#A3BE8C;"> .....................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> iscsi</span><span style="color:#A3BE8C;"> .................................................................</span><span style="color:#D8DEE9FF;"> [Targets: </span><span style="color:#A3BE8C;">0]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> loopback</span><span style="color:#A3BE8C;"> ..............................................................</span><span style="color:#D8DEE9FF;"> [Targets: </span><span style="color:#A3BE8C;">0]</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建-target" tabindex="-1"><a class="header-anchor" href="#创建-target"><span>创建 target</span></a></h3><div class="language-bash line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-bash;"><code><span class="line"><span class="line"><span style="color:#616E88;">################### target 交互页面 #######################</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.6</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">cd</span><span style="color:#A3BE8C;"> /iscsi</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.7 创建 target</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">create</span><span style="color:#A3BE8C;"> wwn=iqn.2024-03.com.test:server</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.8</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">ls</span><span style="color:#A3BE8C;"> /</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">o-</span><span style="color:#A3BE8C;"> /</span><span style="color:#A3BE8C;"> ..............................................................................</span><span style="color:#D8DEE9FF;"> [...]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> backstores</span><span style="color:#A3BE8C;"> ...................................................................</span><span style="color:#D8DEE9FF;"> [...]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block</span><span style="color:#A3BE8C;"> .......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 2]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block1</span><span style="color:#A3BE8C;"> ...........................</span><span style="color:#D8DEE9FF;"> [/dev/sdd1 (447.1GiB) write-thru deactivated]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> alua</span><span style="color:#A3BE8C;"> ........................................................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">Groups:</span><span style="color:#A3BE8C;"> 1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> default_tg_pt_gp</span><span style="color:#A3BE8C;"> ............................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">state:</span><span style="color:#A3BE8C;"> Active/optimized]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block2</span><span style="color:#A3BE8C;"> ...........................</span><span style="color:#D8DEE9FF;"> [/dev/sde1 (447.1GiB) write-thru deactivated]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> alua</span><span style="color:#A3BE8C;"> ........................................................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">Groups:</span><span style="color:#A3BE8C;"> 1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> default_tg_pt_gp</span><span style="color:#A3BE8C;"> ............................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">state:</span><span style="color:#A3BE8C;"> Active/optimized]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> fileio</span><span style="color:#A3BE8C;"> ......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> pscsi</span><span style="color:#A3BE8C;"> .......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> ramdisk</span><span style="color:#A3BE8C;"> .....................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> iscsi</span><span style="color:#A3BE8C;"> .................................................................</span><span style="color:#D8DEE9FF;"> [Targets: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> iqn.2024-03.com.cloudos:server</span><span style="color:#A3BE8C;"> .........................................</span><span style="color:#D8DEE9FF;"> [TPGs: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> tpg1</span><span style="color:#A3BE8C;"> ....................................................</span><span style="color:#D8DEE9FF;"> [no-gen-acls, </span><span style="color:#A3BE8C;">no-auth]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> acls</span><span style="color:#A3BE8C;"> ...............................................................</span><span style="color:#D8DEE9FF;"> [ACLs: </span><span style="color:#A3BE8C;">0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> luns</span><span style="color:#A3BE8C;"> ...............................................................</span><span style="color:#D8DEE9FF;"> [LUNs: </span><span style="color:#A3BE8C;">0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> portals</span><span style="color:#A3BE8C;"> .........................................................</span><span style="color:#D8DEE9FF;"> [Portals: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">       o-</span><span style="color:#A3BE8C;"> 0.0.0.0:3260</span><span style="color:#A3BE8C;"> ..........................................................</span><span style="color:#D8DEE9FF;"> [OK]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> loopback</span><span style="color:#A3BE8C;"> ..............................................................</span><span style="color:#D8DEE9FF;"> [Targets: </span><span style="color:#A3BE8C;">0]</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建-acls" tabindex="-1"><a class="header-anchor" href="#创建-acls"><span>创建 acls</span></a></h3><div class="language-bash line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-bash;"><code><span class="line"><span class="line"><span style="color:#616E88;">################### target 交互页面 #######################</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.9 设置访问控制列表</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">cd</span><span style="color:#A3BE8C;"> /iscsi/iqn...:server/tpg1/acls</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.10</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">create</span><span style="color:#A3BE8C;"> wwn=iqn.2024-03.com.test:client</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">cd</span><span style="color:#A3BE8C;"> /iscsi/iqn...:server/tpg1/acls/iqn...:client</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.11</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">set</span><span style="color:#A3BE8C;"> auth</span><span style="color:#A3BE8C;"> userid=username</span><span style="color:#A3BE8C;"> password=password</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.12</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">ls</span><span style="color:#A3BE8C;"> /</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">o-</span><span style="color:#A3BE8C;"> /</span><span style="color:#A3BE8C;"> ..............................................................................</span><span style="color:#D8DEE9FF;"> [...]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> backstores</span><span style="color:#A3BE8C;"> ...................................................................</span><span style="color:#D8DEE9FF;"> [...]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block</span><span style="color:#A3BE8C;"> .......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 2]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block1</span><span style="color:#A3BE8C;"> ...........................</span><span style="color:#D8DEE9FF;"> [/dev/sdd1 (447.1GiB) write-thru deactivated]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> alua</span><span style="color:#A3BE8C;"> ........................................................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">Groups:</span><span style="color:#A3BE8C;"> 1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> default_tg_pt_gp</span><span style="color:#A3BE8C;"> ............................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">state:</span><span style="color:#A3BE8C;"> Active/optimized]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block2</span><span style="color:#A3BE8C;"> ...........................</span><span style="color:#D8DEE9FF;"> [/dev/sde1 (447.1GiB) write-thru deactivated]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> alua</span><span style="color:#A3BE8C;"> ........................................................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">Groups:</span><span style="color:#A3BE8C;"> 1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> default_tg_pt_gp</span><span style="color:#A3BE8C;"> ............................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">state:</span><span style="color:#A3BE8C;"> Active/optimized]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> fileio</span><span style="color:#A3BE8C;"> ......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> pscsi</span><span style="color:#A3BE8C;"> .......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> ramdisk</span><span style="color:#A3BE8C;"> .....................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> iscsi</span><span style="color:#A3BE8C;"> .................................................................</span><span style="color:#D8DEE9FF;"> [Targets: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> iqn.2024-03.com.cloudos:server</span><span style="color:#A3BE8C;"> .........................................</span><span style="color:#D8DEE9FF;"> [TPGs: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> tpg1</span><span style="color:#A3BE8C;"> ....................................................</span><span style="color:#D8DEE9FF;"> [no-gen-acls, </span><span style="color:#A3BE8C;">no-auth]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> acls</span><span style="color:#A3BE8C;"> ...............................................................</span><span style="color:#D8DEE9FF;"> [ACLs: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;">     |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> iqn.2024-03.com.cloudos:client</span><span style="color:#A3BE8C;"> ............................</span><span style="color:#D8DEE9FF;"> [Mapped </span><span style="color:#A3BE8C;">LUNs:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> luns</span><span style="color:#A3BE8C;"> ...............................................................</span><span style="color:#D8DEE9FF;"> [LUNs: </span><span style="color:#A3BE8C;">0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> portals</span><span style="color:#A3BE8C;"> .........................................................</span><span style="color:#D8DEE9FF;"> [Portals: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">       o-</span><span style="color:#A3BE8C;"> 0.0.0.0:3260</span><span style="color:#A3BE8C;"> ..........................................................</span><span style="color:#D8DEE9FF;"> [OK]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> loopback</span><span style="color:#A3BE8C;"> ..............................................................</span><span style="color:#D8DEE9FF;"> [Targets: </span><span style="color:#A3BE8C;">0]</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建-luns" tabindex="-1"><a class="header-anchor" href="#创建-luns"><span>创建 luns</span></a></h3><div class="language-bash line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-bash;"><code><span class="line"><span class="line"><span style="color:#616E88;">################### target 交互页面 #######################</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.13</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">cd</span><span style="color:#A3BE8C;"> /iscsi/iqn...:server/tpg1/luns</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">create</span><span style="color:#A3BE8C;"> /backstores/block/block1</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">create</span><span style="color:#A3BE8C;"> /backstores/block/block2</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">ls</span><span style="color:#A3BE8C;"> /</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">o-</span><span style="color:#A3BE8C;"> /</span><span style="color:#A3BE8C;"> ..............................................................................</span><span style="color:#D8DEE9FF;"> [...]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> backstores</span><span style="color:#A3BE8C;"> ...................................................................</span><span style="color:#D8DEE9FF;"> [...]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block</span><span style="color:#A3BE8C;"> .......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 2]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block1</span><span style="color:#A3BE8C;"> .............................</span><span style="color:#D8DEE9FF;"> [/dev/sdd1 (447.1GiB) write-thru activated]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> alua</span><span style="color:#A3BE8C;"> ........................................................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">Groups:</span><span style="color:#A3BE8C;"> 1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> default_tg_pt_gp</span><span style="color:#A3BE8C;"> ............................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">state:</span><span style="color:#A3BE8C;"> Active/optimized]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block2</span><span style="color:#A3BE8C;"> .............................</span><span style="color:#D8DEE9FF;"> [/dev/sde1 (447.1GiB) write-thru activated]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> alua</span><span style="color:#A3BE8C;"> ........................................................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">Groups:</span><span style="color:#A3BE8C;"> 1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> default_tg_pt_gp</span><span style="color:#A3BE8C;"> ............................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">state:</span><span style="color:#A3BE8C;"> Active/optimized]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> fileio</span><span style="color:#A3BE8C;"> ......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> pscsi</span><span style="color:#A3BE8C;"> .......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> ramdisk</span><span style="color:#A3BE8C;"> .....................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> iscsi</span><span style="color:#A3BE8C;"> .................................................................</span><span style="color:#D8DEE9FF;"> [Targets: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> iqn.2024-03.com.cloudos:server</span><span style="color:#A3BE8C;"> .........................................</span><span style="color:#D8DEE9FF;"> [TPGs: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> tpg1</span><span style="color:#A3BE8C;"> ....................................................</span><span style="color:#D8DEE9FF;"> [no-gen-acls, </span><span style="color:#A3BE8C;">no-auth]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> acls</span><span style="color:#A3BE8C;"> ...............................................................</span><span style="color:#D8DEE9FF;"> [ACLs: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;">     |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> iqn.2024-03.com.cloudos:client</span><span style="color:#A3BE8C;"> ............................</span><span style="color:#D8DEE9FF;"> [Mapped </span><span style="color:#A3BE8C;">LUNs:</span><span style="color:#A3BE8C;"> 2]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;">     |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> mapped_lun0</span><span style="color:#A3BE8C;"> .....................................</span><span style="color:#D8DEE9FF;"> [lun0 </span><span style="color:#A3BE8C;">block/block1</span><span style="color:#D8DEE9FF;"> (rw)]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;">     |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> mapped_lun1</span><span style="color:#A3BE8C;"> .....................................</span><span style="color:#D8DEE9FF;"> [lun1 </span><span style="color:#A3BE8C;">block/block2</span><span style="color:#D8DEE9FF;"> (rw)]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> luns</span><span style="color:#A3BE8C;"> ...............................................................</span><span style="color:#D8DEE9FF;"> [LUNs: </span><span style="color:#A3BE8C;">2]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;">     |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> lun0</span><span style="color:#A3BE8C;"> .........................</span><span style="color:#D8DEE9FF;"> [block/block1 (/dev/sdd1) (</span><span style="color:#88C0D0;">default_tg_pt_gp</span><span style="color:#D8DEE9FF;">)]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;">     |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> lun1</span><span style="color:#A3BE8C;"> .........................</span><span style="color:#D8DEE9FF;"> [block/block2 (/dev/sde1) (</span><span style="color:#88C0D0;">default_tg_pt_gp</span><span style="color:#D8DEE9FF;">)]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> portals</span><span style="color:#A3BE8C;"> .........................................................</span><span style="color:#D8DEE9FF;"> [Portals: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">       o-</span><span style="color:#A3BE8C;"> 0.0.0.0:3260</span><span style="color:#A3BE8C;"> ..........................................................</span><span style="color:#D8DEE9FF;"> [OK]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> loopback</span><span style="color:#A3BE8C;"> ..............................................................</span><span style="color:#D8DEE9FF;"> [Targets: </span><span style="color:#A3BE8C;">0]</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="创建-portals" tabindex="-1"><a class="header-anchor" href="#创建-portals"><span>创建 portals</span></a></h3><div class="language-bash line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-bash;"><code><span class="line"><span class="line"><span style="color:#616E88;">################### target 交互页面 #######################</span></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.14</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">cd</span><span style="color:#A3BE8C;"> /iscsi/iqn...:server/tpg1/portals</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.15</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">create</span><span style="color:#B48EAD;"> 192.168.0.16</span><span style="color:#A3BE8C;"> ip_port=</span><span style="color:#B48EAD;">3260</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step.</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">ls</span><span style="color:#A3BE8C;"> /</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">o-</span><span style="color:#A3BE8C;"> /</span><span style="color:#A3BE8C;"> ..............................................................................</span><span style="color:#D8DEE9FF;"> [...]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> backstores</span><span style="color:#A3BE8C;"> ...................................................................</span><span style="color:#D8DEE9FF;"> [...]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block</span><span style="color:#A3BE8C;"> .......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 2]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block1</span><span style="color:#A3BE8C;"> .............................</span><span style="color:#D8DEE9FF;"> [/dev/sdd1 (447.1GiB) write-thru activated]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> alua</span><span style="color:#A3BE8C;"> ........................................................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">Groups:</span><span style="color:#A3BE8C;"> 1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> default_tg_pt_gp</span><span style="color:#A3BE8C;"> ............................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">state:</span><span style="color:#A3BE8C;"> Active/optimized]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> block2</span><span style="color:#A3BE8C;"> .............................</span><span style="color:#D8DEE9FF;"> [/dev/sde1 (447.1GiB) write-thru activated]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> alua</span><span style="color:#A3BE8C;"> ........................................................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">Groups:</span><span style="color:#A3BE8C;"> 1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;"> |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> default_tg_pt_gp</span><span style="color:#A3BE8C;"> ............................</span><span style="color:#D8DEE9FF;"> [ALUA </span><span style="color:#A3BE8C;">state:</span><span style="color:#A3BE8C;"> Active/optimized]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> fileio</span><span style="color:#A3BE8C;"> ......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> pscsi</span><span style="color:#A3BE8C;"> .......................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> ramdisk</span><span style="color:#A3BE8C;"> .....................................................</span><span style="color:#D8DEE9FF;"> [Storage </span><span style="color:#A3BE8C;">Objects:</span><span style="color:#A3BE8C;"> 0]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> iscsi</span><span style="color:#A3BE8C;"> .................................................................</span><span style="color:#D8DEE9FF;"> [Targets: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> iqn.2024-03.com.cloudos:server</span><span style="color:#A3BE8C;"> .........................................</span><span style="color:#D8DEE9FF;"> [TPGs: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> tpg1</span><span style="color:#A3BE8C;"> ....................................................</span><span style="color:#D8DEE9FF;"> [no-gen-acls, </span><span style="color:#A3BE8C;">no-auth]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> acls</span><span style="color:#A3BE8C;"> ...............................................................</span><span style="color:#D8DEE9FF;"> [ACLs: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;">     |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> iqn.2024-03.com.cloudos:client</span><span style="color:#A3BE8C;"> ............................</span><span style="color:#D8DEE9FF;"> [Mapped </span><span style="color:#A3BE8C;">LUNs:</span><span style="color:#A3BE8C;"> 2]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;">     |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> mapped_lun0</span><span style="color:#A3BE8C;"> .....................................</span><span style="color:#D8DEE9FF;"> [lun0 </span><span style="color:#A3BE8C;">block/block1</span><span style="color:#D8DEE9FF;"> (rw)]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;">     |</span><span style="color:#88C0D0;">   o-</span><span style="color:#A3BE8C;"> mapped_lun1</span><span style="color:#A3BE8C;"> .....................................</span><span style="color:#D8DEE9FF;"> [lun1 </span><span style="color:#A3BE8C;">block/block2</span><span style="color:#D8DEE9FF;"> (rw)]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> luns</span><span style="color:#A3BE8C;"> ...............................................................</span><span style="color:#D8DEE9FF;"> [LUNs: </span><span style="color:#A3BE8C;">2]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;">     |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> lun0</span><span style="color:#A3BE8C;"> .........................</span><span style="color:#D8DEE9FF;"> [block/block1 (/dev/sdd1) (</span><span style="color:#88C0D0;">default_tg_pt_gp</span><span style="color:#D8DEE9FF;">)]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#81A1C1;">     |</span><span style="color:#88C0D0;"> o-</span><span style="color:#A3BE8C;"> lun1</span><span style="color:#A3BE8C;"> .........................</span><span style="color:#D8DEE9FF;"> [block/block2 (/dev/sde1) (</span><span style="color:#88C0D0;">default_tg_pt_gp</span><span style="color:#D8DEE9FF;">)]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">     o-</span><span style="color:#A3BE8C;"> portals</span><span style="color:#A3BE8C;"> .........................................................</span><span style="color:#D8DEE9FF;"> [Portals: </span><span style="color:#A3BE8C;">1]</span></span></span>
<span class="line"><span class="line"><span style="color:#81A1C1;">  |</span><span style="color:#88C0D0;">       o-</span><span style="color:#A3BE8C;"> 10.247.53.16:3260</span><span style="color:#A3BE8C;"> .....................................................</span><span style="color:#D8DEE9FF;"> [OK]</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">  o-</span><span style="color:#A3BE8C;"> loopback</span><span style="color:#A3BE8C;"> ..............................................................</span><span style="color:#D8DEE9FF;"> [Targets: </span><span style="color:#A3BE8C;">0]</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># step. 保存退出</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">exit</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="重启-target-服务" tabindex="-1"><a class="header-anchor" href="#重启-target-服务"><span>重启 target 服务</span></a></h3><div class="language-bash line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-bash;"><code><span class="line"><span class="line"><span style="color:#616E88;"># step. 查看更新后的配置</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">cat</span><span style="color:#A3BE8C;"> /etc/target/saveconfig.json</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># </span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">systemctl</span><span style="color:#A3BE8C;"> restart</span><span style="color:#A3BE8C;"> target</span><span style="color:#ECEFF4;"> &amp;&amp;</span><span style="color:#88C0D0;"> systemctl</span><span style="color:#A3BE8C;"> enable</span><span style="color:#A3BE8C;"> target</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="服务器-tgtd-工具安装" tabindex="-1"><a class="header-anchor" href="#服务器-tgtd-工具安装"><span>服务器 tgtd 工具安装</span></a></h2><div class="language-bash line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-bash;"><code><span class="line"><span class="line"><span style="color:#88C0D0;">yum</span><span style="color:#A3BE8C;"> install</span><span style="color:#A3BE8C;"> scsi-target-utils</span><span style="color:#A3BE8C;"> -y</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">systemctl</span><span style="color:#A3BE8C;"> start</span><span style="color:#A3BE8C;"> tgtd</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">systemctl</span><span style="color:#A3BE8C;"> enable</span><span style="color:#A3BE8C;"> tgtd</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">systemctl</span><span style="color:#A3BE8C;"> status</span><span style="color:#A3BE8C;"> tgtd</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="客户端安装" tabindex="-1"><a class="header-anchor" href="#客户端安装"><span>客户端安装</span></a></h2><div class="language-bash line-numbers-mode line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre class="shiki nord vp-code" style="background-color:#2e3440ff;color:#d8dee9ff language-bash;"><code><span class="line"><span class="line"><span style="color:#616E88;">#</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">yum</span><span style="color:#A3BE8C;"> install</span><span style="color:#A3BE8C;"> iscsi-initiator-utils</span><span style="color:#A3BE8C;"> -y</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;">#</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">vim</span><span style="color:#A3BE8C;"> /etc/iscsi/initiatorname.iscsi</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># 修改内容，和 target acl 保持一致</span></span></span>
<span class="line"><span class="line"><span style="color:#D8DEE9;">InitiatorName</span><span style="color:#81A1C1;">=</span><span style="color:#A3BE8C;">iqn.2024-03.com.test:client</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># 修改 chap 认证</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">vim</span><span style="color:#A3BE8C;"> /etc/iscsi/iscsid.conf</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># 打开注释，和 target acl 的账号密码保持一致</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">node.session.auth.username</span><span style="color:#A3BE8C;"> =</span><span style="color:#A3BE8C;"> username</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">node.session.auth.password</span><span style="color:#A3BE8C;"> =</span><span style="color:#A3BE8C;"> password</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># </span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">systemctl</span><span style="color:#A3BE8C;"> restart</span><span style="color:#A3BE8C;"> iscsid</span><span style="color:#ECEFF4;"> &amp;&amp;</span><span style="color:#88C0D0;"> systemctl</span><span style="color:#A3BE8C;"> start</span><span style="color:#A3BE8C;"> iscsid</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># 发现 iscsi target</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">iscsiadm</span><span style="color:#A3BE8C;"> --mode</span><span style="color:#A3BE8C;"> discoverydb</span><span style="color:#EBCB8B;"> \\</span></span></span>
<span class="line"><span class="line"><span style="color:#A3BE8C;">  --type</span><span style="color:#A3BE8C;"> sendtargets</span><span style="color:#EBCB8B;"> \\</span></span></span>
<span class="line"><span class="line"><span style="color:#A3BE8C;">  --portal</span><span style="color:#B48EAD;"> 192.168.0.16</span><span style="color:#EBCB8B;"> \\</span></span></span>
<span class="line"><span class="line"><span style="color:#A3BE8C;">  --discover</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># 登录 iscsi target</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">iscsiadm</span><span style="color:#A3BE8C;"> --mode</span><span style="color:#A3BE8C;"> node</span><span style="color:#EBCB8B;"> \\</span></span></span>
<span class="line"><span class="line"><span style="color:#A3BE8C;">  --targetname</span><span style="color:#A3BE8C;"> iqn.2024-03.com.test:server</span><span style="color:#EBCB8B;"> \\</span></span></span>
<span class="line"><span class="line"><span style="color:#A3BE8C;">  --portal</span><span style="color:#A3BE8C;"> 192.168.0.16:3260</span><span style="color:#EBCB8B;"> \\</span></span></span>
<span class="line"><span class="line"><span style="color:#A3BE8C;">  --login</span></span></span>
<span class="line"><span class="line"></span></span>
<span class="line"><span class="line"><span style="color:#616E88;"># 多了两块盘</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">lsblk</span></span></span>
<span class="line"><span class="line"><span style="color:#88C0D0;">lsscsi</span></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h2><ul><li><a href="https://blog.csdn.net/qq_44777969/article/details/115026137" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/qq_44777969/article/details/115026137</a></li><li><a href="https://www.jianshu.com/p/b48e3fec1303" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/b48e3fec1303</a></li><li><a href="https://cshihong.github.io/2018/10/23/ISCSI%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%8E%E9%85%8D%E7%BD%AE/" target="_blank" rel="noopener noreferrer">https://cshihong.github.io/2018/10/23/ISCSI%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA%E4%B8%8E%E9%85%8D%E7%BD%AE/</a></li></ul>`,25)]))}const r=n(p,[["render",i],["__file","iSCSI安装.html.vue"]]),t=JSON.parse('{"path":"/md/article/storage/iSCSI%E5%AE%89%E8%A3%85.html","title":"iSCSI安装","lang":"en-US","frontmatter":{"title":"iSCSI安装","sidebar":"heading"},"headers":[{"level":2,"title":"服务器手动安装","slug":"服务器手动安装","link":"#服务器手动安装","children":[{"level":3,"title":"安装 target","slug":"安装-target","link":"#安装-target","children":[]},{"level":3,"title":"手动分盘","slug":"手动分盘","link":"#手动分盘","children":[]},{"level":3,"title":"创建 block","slug":"创建-block","link":"#创建-block","children":[]},{"level":3,"title":"创建 target","slug":"创建-target","link":"#创建-target","children":[]},{"level":3,"title":"创建 acls","slug":"创建-acls","link":"#创建-acls","children":[]},{"level":3,"title":"创建 luns","slug":"创建-luns","link":"#创建-luns","children":[]},{"level":3,"title":"创建 portals","slug":"创建-portals","link":"#创建-portals","children":[]},{"level":3,"title":"重启 target 服务","slug":"重启-target-服务","link":"#重启-target-服务","children":[]}]},{"level":2,"title":"服务器 tgtd 工具安装","slug":"服务器-tgtd-工具安装","link":"#服务器-tgtd-工具安装","children":[]},{"level":2,"title":"客户端安装","slug":"客户端安装","link":"#客户端安装","children":[]},{"level":2,"title":"参考资料","slug":"参考资料","link":"#参考资料","children":[]}],"git":{"updatedTime":1735864944000,"contributors":[{"name":"hyfly233","username":"hyfly233","email":"hyfly233@outlook.com","commits":6,"url":"https://github.com/hyfly233"}]},"filePathRelative":"md/article/storage/iSCSI安装.md"}');export{r as comp,t as data};
